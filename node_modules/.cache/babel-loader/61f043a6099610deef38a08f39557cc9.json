{"ast":null,"code":"import React,{useEffect,useState}from'react';import Chat from'../../Components/Chat/Chat';import Sidebar from'../../Layouts/Sidebar/Sidebar';import{Switch,Route}from\"react-router-dom\";import firebase from'../../Firebase/Firebase';import'./StyleChatPage.css';import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";export default function ChatPage(){const[channel,setChannel]=useState([]);const db=firebase.firestore();useEffect(()=>{const unsubscribe=db.collection('channels').onSnapshot(snapshot=>setChannel(snapshot.docs.map(doc=>({id:doc.id,data:doc.data()}))));return()=>{unsubscribe();};// \n},[db,channel]);const handleAddNewChannel=()=>{const newChannel=prompt('Enter a Channel Name');if(newChannel){db.collection('channels').add({channelName:newChannel});}};return/*#__PURE__*/_jsx(\"div\",{className:\"chat_page\",children:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Sidebar,{channel:channel,handleAddNewChannel:handleAddNewChannel}),/*#__PURE__*/_jsx(Switch,{children:/*#__PURE__*/_jsx(Route,{path:\"/channel/:channelId\",children:/*#__PURE__*/_jsx(Chat,{})})})]})});}","map":{"version":3,"names":["React","useEffect","useState","Chat","Sidebar","Switch","Route","firebase","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","ChatPage","channel","setChannel","db","firestore","unsubscribe","collection","onSnapshot","snapshot","docs","map","doc","id","data","handleAddNewChannel","newChannel","prompt","add","channelName","className","children","path"],"sources":["C:/Users/hp/Downloads/Telegram-clone-main/Telegram-clone-main/src/App/Pages/ChatPage/ChatPage.jsx"],"sourcesContent":["\nimport React, { useEffect, useState } from 'react'\nimport Chat from '../../Components/Chat/Chat'\nimport Sidebar from '../../Layouts/Sidebar/Sidebar'\nimport { Switch,  Route} from \"react-router-dom\";\nimport firebase from '../../Firebase/Firebase'\nimport './StyleChatPage.css'\n\nexport default function ChatPage() {\n    const [channel,setChannel] = useState([])\n    const db = firebase.firestore();\n\n    useEffect(()=>{\n       const unsubscribe = db.collection('channels').onSnapshot(snapshot => \n         setChannel(\n                snapshot.docs.map(doc =>({\n                id: doc.id,\n                data: doc.data()\n            })\n        )\n    ))\n    return () =>{\n        unsubscribe()\n    }\n        // \n    },[db,channel, ])\n   \n       \n    \n  \n    const handleAddNewChannel =() =>{\n       const newChannel = prompt('Enter a Channel Name');\n       if(newChannel){\n        db.collection('channels').add({\n            channelName: newChannel\n        })\n       }\n       \n    }\n    return (\n        <div className='chat_page'>\n            <>\n                <Sidebar channel={channel} handleAddNewChannel={handleAddNewChannel}/>\n                <Switch>\n                    <Route  path='/channel/:channelId'>\n                        <Chat/>\n                    </Route>\n                </Switch>\n            </>\n           \n           \n           \n        </div>\n    )\n}\n"],"mappings":"AACA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,CAAAC,IAAI,KAAM,4BAA4B,CAC7C,MAAO,CAAAC,OAAO,KAAM,+BAA+B,CACnD,OAASC,MAAM,CAAGC,KAAK,KAAO,kBAAkB,CAChD,MAAO,CAAAC,QAAQ,KAAM,yBAAyB,CAC9C,MAAO,qBAAqB,QAAAC,GAAA,IAAAC,IAAA,CAAAC,QAAA,IAAAC,SAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE5B,cAAe,SAAS,CAAAC,QAAQA,CAAA,CAAG,CAC/B,KAAM,CAACC,OAAO,CAACC,UAAU,CAAC,CAAGd,QAAQ,CAAC,EAAE,CAAC,CACzC,KAAM,CAAAe,EAAE,CAAGV,QAAQ,CAACW,SAAS,CAAC,CAAC,CAE/BjB,SAAS,CAAC,IAAI,CACX,KAAM,CAAAkB,WAAW,CAAGF,EAAE,CAACG,UAAU,CAAC,UAAU,CAAC,CAACC,UAAU,CAACC,QAAQ,EAC/DN,UAAU,CACHM,QAAQ,CAACC,IAAI,CAACC,GAAG,CAACC,GAAG,GAAI,CACzBC,EAAE,CAAED,GAAG,CAACC,EAAE,CACVC,IAAI,CAAEF,GAAG,CAACE,IAAI,CAAC,CACnB,CAAC,CACL,CACJ,CAAC,CAAC,CACF,MAAO,IAAK,CACRR,WAAW,CAAC,CAAC,CACjB,CAAC,CACG;AACJ,CAAC,CAAC,CAACF,EAAE,CAACF,OAAO,CAAG,CAAC,CAKjB,KAAM,CAAAa,mBAAmB,CAAEA,CAAA,GAAK,CAC7B,KAAM,CAAAC,UAAU,CAAGC,MAAM,CAAC,sBAAsB,CAAC,CACjD,GAAGD,UAAU,CAAC,CACbZ,EAAE,CAACG,UAAU,CAAC,UAAU,CAAC,CAACW,GAAG,CAAC,CAC1BC,WAAW,CAAEH,UACjB,CAAC,CAAC,CACH,CAEH,CAAC,CACD,mBACIpB,IAAA,QAAKwB,SAAS,CAAC,WAAW,CAAAC,QAAA,cACtBrB,KAAA,CAAAF,SAAA,EAAAuB,QAAA,eACIzB,IAAA,CAACL,OAAO,EAACW,OAAO,CAAEA,OAAQ,CAACa,mBAAmB,CAAEA,mBAAoB,CAAC,CAAC,cACtEnB,IAAA,CAACJ,MAAM,EAAA6B,QAAA,cACHzB,IAAA,CAACH,KAAK,EAAE6B,IAAI,CAAC,qBAAqB,CAAAD,QAAA,cAC9BzB,IAAA,CAACN,IAAI,GAAC,CAAC,CACJ,CAAC,CACJ,CAAC,EACX,CAAC,CAIF,CAAC,CAEd","ignoreList":[]},"metadata":{},"sourceType":"module"}