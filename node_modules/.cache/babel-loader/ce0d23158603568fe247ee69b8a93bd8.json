{"ast":null,"code":"import{Avatar,IconButton}from'@material-ui/core';import React,{useEffect,useState}from'react';import MoreHorizIcon from'@material-ui/icons/MoreHoriz';import{useParams}from'react-router-dom';import firebase from'../../../Firebase/Firebase';import'./StyleHeader.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function MessageHeader(_ref){var _massages,_massages$timeStamp;let{massages}=_ref;const[channelName,setChannelName]=useState('');const[seed,setSeed]=useState();const{channelId}=useParams();const db=firebase.firestore();useEffect(()=>{const unsubscribe=db.collection('channels').doc(channelId).onSnapshot(snapshot=>setChannelName(snapshot.data()));return()=>{unsubscribe();};},[db,channelId]);useEffect(()=>{setSeed(Math.floor(Math.random()*5000));},[channelId]);const img=\"https://avatars.dicebear.com/api/human/\".concat(seed,\".svg\");return/*#__PURE__*/_jsx(\"div\",{className:\"header\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"header_main\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"header_left\",children:[/*#__PURE__*/_jsx(Avatar,{src:img}),/*#__PURE__*/_jsxs(\"div\",{className:\"header_info\",children:[/*#__PURE__*/_jsx(\"strong\",{children:channelName.channelName}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Last seen at  \",new Date((_massages=massages[massages.length-1])===null||_massages===void 0?void 0:(_massages$timeStamp=_massages.timeStamp)===null||_massages$timeStamp===void 0?void 0:_massages$timeStamp.toDate()).toUTCString()]})]})]}),/*#__PURE__*/_jsx(IconButton,{children:/*#__PURE__*/_jsx(MoreHorizIcon,{})})]})});}","map":{"version":3,"names":["Avatar","IconButton","React","useEffect","useState","MoreHorizIcon","useParams","firebase","jsx","_jsx","jsxs","_jsxs","MessageHeader","_ref","_massages","_massages$timeStamp","massages","channelName","setChannelName","seed","setSeed","channelId","db","firestore","unsubscribe","collection","doc","onSnapshot","snapshot","data","Math","floor","random","img","concat","className","children","src","Date","length","timeStamp","toDate","toUTCString"],"sources":["C:/Users/hp/Downloads/Telegram-clone-main/Telegram-clone-main/src/App/Components/Chat/MessageHeader/MessageHeader.jsx"],"sourcesContent":["import { Avatar, IconButton } from '@material-ui/core'\nimport React, { useEffect, useState } from 'react'\nimport MoreHorizIcon from '@material-ui/icons/MoreHoriz';\nimport {useParams} from 'react-router-dom'\nimport firebase from '../../../Firebase/Firebase'\n\nimport './StyleHeader.css'\n\nexport default function MessageHeader({massages}) {\n\n    const [channelName, setChannelName] = useState('')\n    const [seed,setSeed] = useState()\n    const {channelId } = useParams()\n    const db = firebase.firestore()\n    useEffect(()=>{\n     \n        const unsubscribe = db.collection('channels').doc(channelId)\n        .onSnapshot(\n            snapshot => \n                (setChannelName(snapshot.data())))\n  \n    return () =>{\n        unsubscribe()\n    }\n    },[db, channelId])\n\n    useEffect(()=>{\n        setSeed(Math.floor(Math.random()* 5000))\n    },[channelId])\n    \n    const img = `https://avatars.dicebear.com/api/human/${seed}.svg`\n    return ( \n        <div className='header'>\n            <div className='header_main'>\n                <div className='header_left'>\n                    <Avatar src={img} />\n                    <div className='header_info'>\n                        <strong>{channelName.channelName}</strong>\n                        <p>\n                          Last seen at  {new Date (massages[massages.length -1]?.timeStamp?.toDate()).toUTCString()}\n                        </p>\n                    </div>\n                </div>\n                <IconButton>\n                    <MoreHorizIcon />\n                </IconButton> \n            </div>\n            \n        </div>\n    )\n}\n\n"],"mappings":"AAAA,OAASA,MAAM,CAAEC,UAAU,KAAQ,mBAAmB,CACtD,MAAO,CAAAC,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,CAAAC,aAAa,KAAM,8BAA8B,CACxD,OAAQC,SAAS,KAAO,kBAAkB,CAC1C,MAAO,CAAAC,QAAQ,KAAM,4BAA4B,CAEjD,MAAO,mBAAmB,QAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1B,cAAe,SAAS,CAAAC,aAAaA,CAAAC,IAAA,CAAa,KAAAC,SAAA,CAAAC,mBAAA,IAAZ,CAACC,QAAQ,CAAC,CAAAH,IAAA,CAE5C,KAAM,CAACI,WAAW,CAAEC,cAAc,CAAC,CAAGd,QAAQ,CAAC,EAAE,CAAC,CAClD,KAAM,CAACe,IAAI,CAACC,OAAO,CAAC,CAAGhB,QAAQ,CAAC,CAAC,CACjC,KAAM,CAACiB,SAAU,CAAC,CAAGf,SAAS,CAAC,CAAC,CAChC,KAAM,CAAAgB,EAAE,CAAGf,QAAQ,CAACgB,SAAS,CAAC,CAAC,CAC/BpB,SAAS,CAAC,IAAI,CAEV,KAAM,CAAAqB,WAAW,CAAGF,EAAE,CAACG,UAAU,CAAC,UAAU,CAAC,CAACC,GAAG,CAACL,SAAS,CAAC,CAC3DM,UAAU,CACPC,QAAQ,EACHV,cAAc,CAACU,QAAQ,CAACC,IAAI,CAAC,CAAC,CAAE,CAAC,CAE9C,MAAO,IAAK,CACRL,WAAW,CAAC,CAAC,CACjB,CAAC,CACD,CAAC,CAAC,CAACF,EAAE,CAAED,SAAS,CAAC,CAAC,CAElBlB,SAAS,CAAC,IAAI,CACViB,OAAO,CAACU,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,CAAE,IAAI,CAAC,CAAC,CAC5C,CAAC,CAAC,CAACX,SAAS,CAAC,CAAC,CAEd,KAAM,CAAAY,GAAG,2CAAAC,MAAA,CAA6Cf,IAAI,QAAM,CAChE,mBACIV,IAAA,QAAK0B,SAAS,CAAC,QAAQ,CAAAC,QAAA,cACnBzB,KAAA,QAAKwB,SAAS,CAAC,aAAa,CAAAC,QAAA,eACxBzB,KAAA,QAAKwB,SAAS,CAAC,aAAa,CAAAC,QAAA,eACxB3B,IAAA,CAACT,MAAM,EAACqC,GAAG,CAAEJ,GAAI,CAAE,CAAC,cACpBtB,KAAA,QAAKwB,SAAS,CAAC,aAAa,CAAAC,QAAA,eACxB3B,IAAA,WAAA2B,QAAA,CAASnB,WAAW,CAACA,WAAW,CAAS,CAAC,cAC1CN,KAAA,MAAAyB,QAAA,EAAG,gBACa,CAAC,GAAI,CAAAE,IAAI,EAAAxB,SAAA,CAAEE,QAAQ,CAACA,QAAQ,CAACuB,MAAM,CAAE,CAAC,CAAC,UAAAzB,SAAA,kBAAAC,mBAAA,CAA5BD,SAAA,CAA8B0B,SAAS,UAAAzB,mBAAA,iBAAvCA,mBAAA,CAAyC0B,MAAM,CAAC,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,EACxF,CAAC,EACH,CAAC,EACL,CAAC,cACNjC,IAAA,CAACR,UAAU,EAAAmC,QAAA,cACP3B,IAAA,CAACJ,aAAa,GAAE,CAAC,CACT,CAAC,EACZ,CAAC,CAEL,CAAC,CAEd","ignoreList":[]},"metadata":{},"sourceType":"module"}