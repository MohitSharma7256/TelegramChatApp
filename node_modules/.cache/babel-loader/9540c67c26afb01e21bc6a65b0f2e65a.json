{"ast":null,"code":"import{Avatar}from'@material-ui/core';import{useEffect,useState}from'react';import firebase from'../../../Firebase/Firebase';import{Link}from'react-router-dom';import'./StyleSidebarRow.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function SidebarRow(_ref){var _massages$;let{id,channelName}=_ref;const[massages,setMassages]=useState([]);const db=firebase.firestore();const[seed,setSeed]=useState();useEffect(()=>{if(id){db.collection('channels').doc(id).collection('massages').orderBy('timeStamp','desc').onSnapshot(snapshot=>{setMassages(snapshot.docs.map(doc=>doc.data()));});}},[id,db,setMassages]);useEffect(()=>{setSeed(Math.floor(Math.random()*5000));},[id]);const img=\"https://avatars.dicebear.com/api/human/\".concat(seed,\".svg\");return/*#__PURE__*/_jsxs(Link,{className:\"sidebar_row_main\",to:\"/channel/\".concat(id),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar_row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar_left\",children:[/*#__PURE__*/_jsx(Avatar,{src:img}),/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar_info\",children:[/*#__PURE__*/_jsx(\"strong\",{children:channelName}),/*#__PURE__*/_jsx(\"p\",{className:\"text\",children:(_massages$=massages[0])===null||_massages$===void 0?void 0:_massages$.massages})]})]}),/*#__PURE__*/_jsx(\"p\",{children:\"time\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"line\"})]});}","map":{"version":3,"names":["Avatar","useEffect","useState","firebase","Link","jsx","_jsx","jsxs","_jsxs","SidebarRow","_ref","_massages$","id","channelName","massages","setMassages","db","firestore","seed","setSeed","collection","doc","orderBy","onSnapshot","snapshot","docs","map","data","Math","floor","random","img","concat","className","to","children","src"],"sources":["C:/Users/hp/Downloads/Telegram-clone-main/Telegram-clone-main/src/App/Layouts/Sidebar/SidebarRow/SidebarRow.jsx"],"sourcesContent":["import { Avatar} from '@material-ui/core'\nimport { useEffect, useState } from 'react'\nimport firebase from '../../../Firebase/Firebase'\nimport { Link } from 'react-router-dom'\nimport './StyleSidebarRow.css'\n\nexport default function SidebarRow({ id,channelName}) {\n\n    const [massages, setMassages] = useState([])\n    const db = firebase.firestore()\n    const [seed, setSeed] = useState() \n\n    useEffect(()=>{\n        if (id){\n            db.collection('channels').doc(id).collection('massages')\n            .orderBy('timeStamp','desc')\n            .onSnapshot(snapshot=>{\n                 setMassages(snapshot.docs.map(doc=> doc.data()))\n             })\n      \n        }\n       \n        \n    },[id, db, setMassages])\n\n    useEffect(()=>{\n        setSeed(Math.floor(Math.random()* 5000))\n\n    },[id])\n\n    const img = `https://avatars.dicebear.com/api/human/${seed}.svg`\n    return (\n        <Link className='sidebar_row_main' to={`/channel/${id}`}>\n            <div className='sidebar_row'>\n                <div className='sidebar_left'>\n                    <Avatar src={img} />\n                    <div className='sidebar_info'>\n                        <strong  >{channelName}</strong>\n                        <p className='text'>{massages[0]?.massages}</p>\n                    </div>\n                </div>\n                <p>time</p>\n            </div>\n            <div className='line'/>\n        </Link>\n        \n    )\n}\n"],"mappings":"AAAA,OAASA,MAAM,KAAO,mBAAmB,CACzC,OAASC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,MAAO,CAAAC,QAAQ,KAAM,4BAA4B,CACjD,OAASC,IAAI,KAAQ,kBAAkB,CACvC,MAAO,uBAAuB,QAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE9B,cAAe,SAAS,CAAAC,UAAUA,CAAAC,IAAA,CAAoB,KAAAC,UAAA,IAAnB,CAAEC,EAAE,CAACC,WAAW,CAAC,CAAAH,IAAA,CAEhD,KAAM,CAACI,QAAQ,CAAEC,WAAW,CAAC,CAAGb,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAAAc,EAAE,CAAGb,QAAQ,CAACc,SAAS,CAAC,CAAC,CAC/B,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAGjB,QAAQ,CAAC,CAAC,CAElCD,SAAS,CAAC,IAAI,CACV,GAAIW,EAAE,CAAC,CACHI,EAAE,CAACI,UAAU,CAAC,UAAU,CAAC,CAACC,GAAG,CAACT,EAAE,CAAC,CAACQ,UAAU,CAAC,UAAU,CAAC,CACvDE,OAAO,CAAC,WAAW,CAAC,MAAM,CAAC,CAC3BC,UAAU,CAACC,QAAQ,EAAE,CACjBT,WAAW,CAACS,QAAQ,CAACC,IAAI,CAACC,GAAG,CAACL,GAAG,EAAGA,GAAG,CAACM,IAAI,CAAC,CAAC,CAAC,CAAC,CACpD,CAAC,CAAC,CAEP,CAGJ,CAAC,CAAC,CAACf,EAAE,CAAEI,EAAE,CAAED,WAAW,CAAC,CAAC,CAExBd,SAAS,CAAC,IAAI,CACVkB,OAAO,CAACS,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,CAAE,IAAI,CAAC,CAAC,CAE5C,CAAC,CAAC,CAAClB,EAAE,CAAC,CAAC,CAEP,KAAM,CAAAmB,GAAG,2CAAAC,MAAA,CAA6Cd,IAAI,QAAM,CAChE,mBACIV,KAAA,CAACJ,IAAI,EAAC6B,SAAS,CAAC,kBAAkB,CAACC,EAAE,aAAAF,MAAA,CAAcpB,EAAE,CAAG,CAAAuB,QAAA,eACpD3B,KAAA,QAAKyB,SAAS,CAAC,aAAa,CAAAE,QAAA,eACxB3B,KAAA,QAAKyB,SAAS,CAAC,cAAc,CAAAE,QAAA,eACzB7B,IAAA,CAACN,MAAM,EAACoC,GAAG,CAAEL,GAAI,CAAE,CAAC,cACpBvB,KAAA,QAAKyB,SAAS,CAAC,cAAc,CAAAE,QAAA,eACzB7B,IAAA,WAAA6B,QAAA,CAAWtB,WAAW,CAAS,CAAC,cAChCP,IAAA,MAAG2B,SAAS,CAAC,MAAM,CAAAE,QAAA,EAAAxB,UAAA,CAAEG,QAAQ,CAAC,CAAC,CAAC,UAAAH,UAAA,iBAAXA,UAAA,CAAaG,QAAQ,CAAI,CAAC,EAC9C,CAAC,EACL,CAAC,cACNR,IAAA,MAAA6B,QAAA,CAAG,MAAI,CAAG,CAAC,EACV,CAAC,cACN7B,IAAA,QAAK2B,SAAS,CAAC,MAAM,CAAC,CAAC,EACrB,CAAC,CAGf","ignoreList":[]},"metadata":{},"sourceType":"module"}